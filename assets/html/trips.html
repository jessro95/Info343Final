<div id="tripspage">
  <h4>Welcome <span ng-bind="users[currentUser].email"></span>,</h4>
  <h1>Your Trips</h1>

  <input type="text" class="form-control" ng-model="search">
  
  <div class="dropdown">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
    Sort by
    <span class="caret"></span>
  </button>

  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="#" ng-click="sortType='title'">Name</a></li>
    <li><a href="#" ng-click="sortType='date'">Date</a></li>
  </ul>
</div>

  <a href="base.html#/trip">
    <div class="tripcard">
      <h3>Trip Name</h3>
      <h5>Date</h5>
      <h6>People</h6>
    </div>
  </a>

    <!-- list of itins need filter and ng-repeat for each items -->
    <table>
    <tr ng-repeat="(key,value) in itineraries | orderBy : value.title |filter : value.creatorId = currentUser">
            <td>{{value.title}}<button ng-click="selectItinerary(key)" class="btn btn-success">Select</button></td>
            
   </tr>
    </table>

        <!-- end of list -->


    <!--creat itin -->
     <form ng-show = "!currentItinerary" name="itineraryForm" novalidate >
        <h4>Create New Itinerary</h4>
        <div class="form-group">
            <label>Itinerary Title:</label>
            <input name="itineraryTitle" class="form-control" ng-model="itineraryTitle" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryTitle.$error.minlength" class="help-block">Itinerary title is invalid.</p>
        </div>
        <div class="form-group">
            <label>Itinerary Location:</label>
            <input name="itineraryLocation" class="form-control" ng-model="itineraryLocation" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryLocation.$error.minlength" class="help-block">Itinerary title is invalid.</p>
        </div>
        <div class="form-group">
            <label>Itinerary Description:</label>
            <input name="itineraryDesc" class="form-control" ng-model="itineraryDesc" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryDesc.$error.minlength" class="help-block">Itinerary description is invalid.</p>
        </div>
        <div class="form-group">
            <label>Itinerary Start Date:</label>
            <input type="date" name="itineraryDate" class="form-control" ng-model="itineraryDate" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryDate.$error.minlength" class="help-block">Itinerary date is invalid.</p>
        </div>
        <div class="form-group">
            <label>Itinerary Image Link:</label>
            <input placeholder="http://" name="itineraryImage" class="form-control" ng-model="itineraryImage" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryImage.$error.minlength" class="help-block">Itinerary image is invalid.</p>
        </div>
        <div class="form-group">
            <label>Itinerary Password:</label>
            <input type="password" name="itineraryPassword" class="form-control" ng-model="itineraryPassword" ng-minlength="1" required>
            <p ng-show="itineraryForm.itineraryPassword.$error.minlength" class="help-block">Itinerary password is invalid.</p>
        </div>
        <!-- ng-disabled="itineraryForm.$invalid"  Add an error message if the length is too short -->
        <div class="form-group">
            <button ng-click="createNewItinerary()" class="btn btn-success">Create</button>
        </div>
    </form>
    <!-- end of create itin -->


    <!-- if there is a itin display -->
    <div ng-show = "currentItinerary">

    <div class="form-group">
        <label>Itinerary Title:{{itineraries[currentItinerary].title}} attributes : </label>
        <table>
            <tr ng-repeat="(key,value) in itineraries[currentItinerary] ">
                <td> {{key}} </td> <td> {{ value }} </td>
            </tr>  
        </table>  
    </div>
    <button ng-show="!currentItinerary.link" ng-click="createLink()" class="btn btn-success">Create link</button>
    <!-- end of itin display -->
    



       <!-- start of form group -->
            <div class="form-group">
                <h4>Create New Event (check current itinerary for latest date</h4>
                <label>Event Title:</label>
                <input name="eventTitle" class="form-control" ng-model="eventTitle" ng-minlength="1" required>
                <p ng-show="myForm.eventTitle.$error.minlength" class="help-block">Event title is invalid.</p>
            </div>
            <div class="form-group">
                <label>Event Location:</label>
                <input name="eventLocation" class="form-control" ng-model="eventLocation" ng-minlength="1" required>
                <p ng-show="myForm.eventTitle.$error.minlength" class="help-block">Event location is invalid.</p>
            </div>
            <div class="form-group">
                <label>Itinerary Description:</label>
                <input name="eventDescription" class="form-control" ng-model="eventDescription" ng-minlength="1" required>
                <p ng-show="myForm.eventDescription.$error.minlength" class="help-block">Event description is invalid.</p>
            </div>
            <div class="form-group">
                <label>Event Date:</label>
                <input type="date" name="eventDate" class="form-control" ng-model="eventDate" ng-minlength="1" required>
                <p ng-show="myForm.eventDate.$error.minlength" class="help-block">Event date is invalid.</p>
            </div>
            <div class="form-group">
                <label>Event Image:</label>
                <input placeholder="http://" name="eventImage" class="form-control" ng-model="eventImage" ng-minlength="1" required>
                <p ng-show="myForm.eventImage.$error.minlength" class="help-block">Event image is invalid.</p>
            </div>
            <div class="form-group">   
                <label>Event Price:</label>
                <input type="number" name="eventPrice" class="form-control" ng-model="eventPrice" ng-minlength="1" required>
                <p ng-show="myForm.eventPrice.$error.minlength" class="help-block">Event price is invalid.</p>
            </div>
            <div class="form-group">
                <label>Event Start Time:</label>
                <input type="time" name="eventStart" class="form-control" ng-model="eventStart" ng-minlength="1" required>
                <p ng-show="myForm.eventStart.$error.minlength" class="help-block">Event start is invalid.</p>
            </div>
            <div class="form-group">
                <label>Event End Time:</label>
                <input type="time" name="eventEnd" class="form-control" ng-model="eventEnd" ng-minlength="1" required>
                <p ng-show="myForm.eventEnd.$error.minlength" class="help-block">Event end is invalid.</p>
            </div>
            <div class="form-group">
                <div class="radio">
                  <label><input type="radio" name="optradio">Public</label>
                </div>
                <div class="radio">
                  <label><input type="radio" name="eventPrivacy" ng-model="eventPrivacy">Private</label>
                </div>
            </div>

            <!-- list of user created attribute -->
            <!-- <ul ng-show="userMadeObj">
              <li ng-repeat="(key,value) in userMadeObj"> {{key}} : {{value}}<li>
            </ul>
            end of list of user created attribute  -->

            <!-- create more input form 
            <div class="form-group">
              <h4>Add new attribute to </h4>
              <label>Add New Label</label>
              <input name="itemLabel" class="form-control" ng-model="itemLabel">
              <label>Add New Value</label>
              <input name="itemValue" class="form-control" ng-model="itemValue">
              <button ng-click="addNewItem()" class="btn btn-success">Add</button>
          </div>
          end of add form -->
          
          <button ng-click="createNewEvent()" class="btn btn-success">Create</button>
</div><!-- end of ng-show currentItin-->
<!-- end -->
</div>